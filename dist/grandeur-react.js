/*! For license information please see grandeur-react.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.grandeur=e():t.grandeur=e()}(this,(()=>(()=>{var t={223:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(){o=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},u="function"==typeof Symbol?Symbol:{},a=u.iterator||"@@iterator",c=u.asyncIterator||"@@asyncIterator",s=u.toStringTag||"@@toStringTag";function f(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof v?e:v,u=Object.create(o.prototype),a=new N(n||[]);return i(u,"_invoke",{value:x(t,r,a)}),u}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function v(){}function d(){}function y(){}var w={};f(w,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(I([])));g&&g!==e&&r.call(g,a)&&(w=g);var b=y.prototype=v.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function o(i,u,a,c){var s=h(t[i],t,u);if("throw"!==s.type){var f=s.arg,l=f.value;return l&&"object"==n(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(l).then((function(t){f.value=t,a(f)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var u;i(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return u=u?u.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var u=r.delegate;if(u){var a=A(u,r);if(a){if(a===p)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=h(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function A(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,A(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=h(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function I(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=y,i(b,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:d,configurable:!0}),d.displayName=f(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,f(t,s,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},E(S.prototype),f(S.prototype,c,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var u=new S(l(e,r,n,o),i);return t.isGeneratorFunction(r)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},E(b),f(b,s,"Generator"),f(b,a,(function(){return this})),f(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=I,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return u.type="throw",u.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],u=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var a=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(a&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var u=i?i.completion:{};return u.type=t,u.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:I(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}function i(t,e,r,n,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void r(t)}a.done?e(c):Promise.resolve(c).then(n,o)}function u(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var u=t.apply(e,r);function a(t){i(u,n,o,a,c,"next",t)}function c(t){i(u,n,o,a,c,"throw",t)}a(void 0)}))}}function a(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e);if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key,"string"),"symbol"===n(i)?i:String(i)),o)}var i}r.d(e,{extend:()=>ot,init:()=>nt});const c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.handlers=e,this.post=e.post,this.duplex=e.duplex}var e,r,n,i,c,s,f,l;return e=t,r=[{key:"login",value:(l=u(o().mark((function t(e,r){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.post.send("/auth/login",{email:e,password:r});case 2:return"AUTH-ACCOUNT-LOGGEDIN"===(n=t.sent).code&&localStorage.setItem("grandeur-auth-".concat(this.post.config.apiKey),n.token),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t,this)}))),function(t,e){return l.apply(this,arguments)})},{key:"register",value:(f=u(o().mark((function t(e,r,n,i){var a,c=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.post.send("/auth/register",{email:e,password:r,displayName:n,phone:i});case 3:if("PHONE-CODE-SENT"!==(a=t.sent).code){t.next=8;break}return t.abrupt("return",{code:a.code,message:a.message,confirm:function(){var t=u(o().mark((function t(e){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.post.send("/auth/register",{token:a.token,verificationCode:e});case 2:return"AUTH-ACCOUNT-REGISTERED"===(r=t.sent).code&&localStorage.setItem("grandeur-auth-".concat(c.post.config.apiKey),r.token),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()});case 8:return t.abrupt("return",a);case 9:t.next=14;break;case 11:throw t.prev=11,t.t0=t.catch(0),t.t0;case 14:case"end":return t.stop()}}),t,this,[[0,11]])}))),function(t,e,r,n){return f.apply(this,arguments)})},{key:"updateProfile",value:(s=u(o().mark((function t(e,r,n){var i,u=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.post.send("/auth/updateProfile",{displayName:e,phone:n,displayPicture:r});case 3:if("PHONE-CODE-SENT"!==(i=t.sent).code){t.next=8;break}return t.abrupt("return",{code:i.code,message:i.message,confirm:function(t){return u.post.send("/auth/updateProfile",{token:i.token,verificationCode:t})}});case 8:return t.abrupt("return",i);case 9:t.next=14;break;case 11:throw t.prev=11,t.t0=t.catch(0),t.t0;case 14:case"end":return t.stop()}}),t,this,[[0,11]])}))),function(t,e,r){return s.apply(this,arguments)})},{key:"forgotPassword",value:(c=u(o().mark((function t(e){var r,n=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.post.send("/auth/forgotPassword",{email:e});case 3:if("PHONE-CODE-SENT"!==(r=t.sent).code){t.next=8;break}return t.abrupt("return",{code:r.code,message:r.message,confirm:function(t,e){return n.post.send("/auth/forgotPassword",{token:r.token,verificationCode:t,password:e})}});case 8:return t.abrupt("return",r);case 9:t.next=14;break;case 11:throw t.prev=11,t.t0=t.catch(0),t.t0;case 14:case"end":return t.stop()}}),t,this,[[0,11]])}))),function(t){return c.apply(this,arguments)})},{key:"changePassword",value:(i=u(o().mark((function t(e){var r,n=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.post.send("/auth/changePassword",{password:e});case 3:if("PHONE-CODE-SENT"!==(r=t.sent).code){t.next=8;break}return t.abrupt("return",{code:r.code,message:r.message,confirm:function(t){return n.post.send("/auth/changePassword",{token:r.token,verificationCode:t})}});case 8:return t.abrupt("return",r);case 9:t.next=14;break;case 11:throw t.prev=11,t.t0=t.catch(0),t.t0;case 14:case"end":return t.stop()}}),t,this,[[0,11]])}))),function(t){return i.apply(this,arguments)})},{key:"isAuthenticated",value:function(){return this.post.send("/auth/protectedpage",{})}},{key:"ping",value:function(){return this.post.send("/auth/ping",{})}},{key:"logout",value:function(){return this.post.send("/auth/logout",{})}},{key:"token",value:(n=u(o().mark((function e(r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.post.send("/auth/ping",{},r);case 3:if("AUTH-AUTHORIZED"!==(n=e.sent).code){e.next=10;break}return localStorage.setItem("grandeur-auth-".concat(this.post.config.apiKey),r),this.duplex.disconnect(new t(this.handlers)),e.abrupt("return",n);case 10:throw{code:"TOKEN-INVALID"};case 11:e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(0),e.t0;case 16:case"end":return e.stop()}}),e,this,[[0,13]])}))),function(t){return n.apply(this,arguments)})}],r&&a(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==s(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key,"string"),"symbol"===s(o)?o:String(o)),n)}var o}function h(t,e,r){return e&&l(t.prototype,e),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var p=function(){function t(e,r){f(this,t),this.post=e.post,this.duplex=e.duplex,this.deviceID=r}return h(t,[{key:"get",value:function(t){var e={deviceID:this.deviceID,path:t};return this.duplex.send("/device/data/get",e)}},{key:"set",value:function(t,e){var r={deviceID:this.deviceID,path:t,data:e};return this.duplex.send("/device/data/set",r)}},{key:"on",value:function(t,e){var r={event:"data",path:t,deviceID:this.deviceID};return this.duplex.subscribe("data",r,e)}}]),t}(),v=function(){function t(e,r){f(this,t),this.post=e.post,this.duplex=e.duplex,this.deviceID=r}return h(t,[{key:"pair",value:function(){var t={deviceID:this.deviceID};return this.duplex.send("/device/pair",t)}},{key:"unpair",value:function(){var t={deviceID:this.deviceID};return this.duplex.send("/device/unpair",t)}},{key:"get",value:function(t){var e={deviceID:this.deviceID,path:t};return this.duplex.send("/device/get",e)}},{key:"set",value:function(t,e){var r={deviceID:this.deviceID,path:t,data:e};return this.duplex.send("/device/set",r)}},{key:"on",value:function(t,e){var r={event:t,deviceID:this.deviceID};return this.duplex.subscribe(t,r,e)}},{key:"data",value:function(){return new p({post:this.post,duplex:this.duplex},this.deviceID)}}]),t}();const d=function(){function t(e){f(this,t),this.post=e.post,this.duplex=e.duplex}return h(t,[{key:"get",value:function(t){var e={filter:t};return this.duplex.send("/devices/get",e)}},{key:"count",value:function(t){var e={filter:t};return this.duplex.send("/devices/count",e)}},{key:"on",value:function(t){return this.duplex.subscribe("devices",{event:"devices"},t)}},{key:"device",value:function(t){return new v({post:this.post,duplex:this.duplex},t)}}]),t}();function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==y(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key,"string"),"symbol"===y(o)?o:String(o)),n)}var o}function g(t,e,r){return e&&m(t.prototype,e),r&&m(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var b=function(){function t(e,r,n,o){w(this,t),this.post=e.post,this.duplex=e.duplex,this.collection=r,this.index=n,this.query=o}return g(t,[{key:"match",value:function(e){return this.query.push({type:"match",filter:e}),new t({post:this.post,duplex:this.duplex},this.collection,this.index,this.query)}},{key:"project",value:function(e){return this.query.push({type:"project",specs:e}),new t({post:this.post,duplex:this.duplex},this.collection,this.index,this.query)}},{key:"group",value:function(e,r){return this.query.push({type:"group",condition:e,fields:r}),new t({post:this.post,duplex:this.duplex},this.collection,this.index,this.query)}},{key:"sort",value:function(e){return this.query.push({type:"sort",specs:e}),new t({post:this.post,duplex:this.duplex},this.collection,this.index,this.query)}},{key:"execute",value:function(t){var e={collection:this.collection,index:this.index,pipeline:this.query,nPage:t};return this.duplex.send("/datastore/pipeline",e)}}]),t}(),E=function(){function t(e,r){w(this,t),this.post=e.post,this.duplex=e.duplex,this.collection=r}return g(t,[{key:"insert",value:function(t){var e={collection:this.collection,documents:t};return this.duplex.send("/datastore/insert",e)}},{key:"delete",value:function(t){var e={collection:this.collection,filter:t};return this.duplex.send("/datastore/delete",e)}},{key:"update",value:function(t,e){var r={collection:this.collection,filter:t,update:e};return this.duplex.send("/datastore/update",r)}},{key:"search",value:function(t,e,r){var n=new b({post:this.post,duplex:this.duplex},this.collection,{},[]).match(t);return e&&(n=n.project(e)),n.execute(r)}},{key:"pipeline",value:function(t){return new b({post:this.post,duplex:this.duplex},this.collection,t,[])}}]),t}();const S=function(){function t(e){w(this,t),this.post=e.post,this.duplex=e.duplex}return g(t,[{key:"collection",value:function(t){return new E({post:this.post,duplex:this.duplex},t)}},{key:"list",value:function(t){var e={nPage:t};return this.duplex.send("/datastore/list",e)}},{key:"drop",value:function(t){var e={collection:t};return this.duplex.send("/datastore/drop",e)}}]),t}();var x=r(833),A=r.n(x),O=r(90);function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function N(){N=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,u=Object.create(i.prototype),a=new O(o||[]);return n(u,"_invoke",{value:E(t,r,a)}),u}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function h(){}function p(){}function v(){}var d={};c(d,i,(function(){return this}));var y=Object.getPrototypeOf,w=y&&y(y(I([])));w&&w!==e&&r.call(w,i)&&(d=w);var m=v.prototype=h.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function o(n,i,u,a){var c=f(t[n],t,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==C(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){o("next",t,u,a)}),(function(t){o("throw",t,u,a)})):e.resolve(l).then((function(t){s.value=t,u(s)}),(function(t){return o("throw",t,u,a)}))}a(c.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function E(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var u=r.delegate;if(u){var a=S(u,r);if(a){if(a===l)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=f(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function S(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),l;var o=f(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,l;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function I(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return p.prototype=v,n(m,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:p,configurable:!0}),p.displayName=c(v,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,c(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,u,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var u=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},g(m),c(m,a,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return u.type="throw",u.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],u=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var a=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(a&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var u=i?i.completion:{};return u.type=t,u.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:I(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function I(t,e,r,n,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void r(t)}a.done?e(c):Promise.resolve(c).then(n,o)}function L(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==C(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!==C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key,"string"),"symbol"===C(o)?o:String(o)),n)}var o}var k=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.config=e,this.status="ACTIVE"}var e,r;return e=t,r=[{key:"dispose",value:function(){this.status="DISPOSED"}},{key:"send",value:function(t,e,r){var n=this;return new Promise(function(){var o,i=(o=N().mark((function o(i,u){var a,c,s,f,l;return N().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if("DISPOSED"!==n.status){o.next=2;break}return o.abrupt("return",u({code:"DISPOSED"}));case 2:return a="".concat(n.config.url).concat(t||"/","?apiKey=").concat(n.config.apiKey),c="","undefined"!=typeof window&&(c=r||localStorage.getItem("grandeur-auth-".concat(n.config.apiKey))||""),s={authorization:c},f=JSON.stringify(e),s["content-type"]="application/json",s["gt-otp"]=A()((0,O.encode)(n.config.secretKey)),o.prev=9,o.next=12,fetch(a,{method:"POST",mode:"cors",body:f,credentials:"include",SameSite:"none",headers:s});case 12:return l=o.sent,o.next=15,l.json();case 15:l=o.sent,i(l),o.next=22;break;case 19:o.prev=19,o.t0=o.catch(9),u({code:"CONNECTION-REFUSED"});case 22:case 23:case"end":return o.stop()}}),o,null,[[9,19]])})),function(){var t=this,e=arguments;return new Promise((function(r,n){var i=o.apply(t,e);function u(t){I(i,r,n,u,a,"next",t)}function a(t){I(i,r,n,u,a,"throw",t)}u(void 0)}))});return function(t,e){return i.apply(this,arguments)}}())}}],r&&L(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();const j=k;var _=r(187),P=r(560);function T(t){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T(t)}function R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function D(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?R(Object(r),!0).forEach((function(e){U(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function U(t,e,r){return(e=G(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function H(){H=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,u=Object.create(i.prototype),a=new O(o||[]);return n(u,"_invoke",{value:E(t,r,a)}),u}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function h(){}function p(){}function v(){}var d={};c(d,i,(function(){return this}));var y=Object.getPrototypeOf,w=y&&y(y(C([])));w&&w!==e&&r.call(w,i)&&(d=w);var m=v.prototype=h.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function o(n,i,u,a){var c=f(t[n],t,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==T(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){o("next",t,u,a)}),(function(t){o("throw",t,u,a)})):e.resolve(l).then((function(t){s.value=t,u(s)}),(function(t){return o("throw",t,u,a)}))}a(c.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function E(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var u=r.delegate;if(u){var a=S(u,r);if(a){if(a===l)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=f(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function S(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),l;var o=f(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,l;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function C(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return p.prototype=v,n(m,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:p,configurable:!0}),p.displayName=c(v,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,c(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,u,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var u=new b(s(e,r,n,o),i);return t.isGeneratorFunction(r)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},g(m),c(m,a,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=C,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return u.type="throw",u.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],u=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var a=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(a&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var u=i?i.completion:{};return u.type=t,u.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function F(t,e,r,n,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void r(t)}a.done?e(c):Promise.resolve(c).then(n,o)}function K(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,G(n.key),n)}}function B(t,e,r){return e&&M(t.prototype,e),r&&M(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function G(t){var e=function(t,e){if("object"!==T(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!==T(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"===T(e)?e:String(e)}function Y(t,e){return Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Y(t,e)}function $(t,e){if(e&&("object"===T(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function V(t){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},V(t)}var X=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y(t,e)}(o,t);var e,r,n=(e=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=V(e);if(r){var o=V(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return $(this,t)});function o(){return K(this,o),n.apply(this,arguments)}return B(o,[{key:"pEmit",value:function(t){for(var e=this,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];this.eventNames().forEach((function(r){t.match(new RegExp(r))&&e.emit.apply(e,[r].concat(n))}))}}]),o}(_.EventEmitter),q=function(){function t(){K(this,t),this.list={}}return B(t,[{key:"push",value:function(t,e){this.list[t]=e}},{key:"forEach",value:function(t){var e=this;Object.keys(this.list).forEach((function(r){return t(e.list[r])}))}},{key:"remove",value:function(t){delete this.list[t]}}]),t}(),z=function(){function t(e){K(this,t),this.config=e,this.tasks=new X,this.subscriptions=new X,this.status="CONNECTING",this.cConnection=null,this.buffer=new q,this.topics={user:["devices"],device:["name","status","data"]}}var e,r;return B(t,[{key:"init",value:(e=H().mark((function t(e){var r,n,o,i=this;return H().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.ping();case 3:r=t.sent,t.t0=r.code,t.next="AUTH-AUTHORIZED"===t.t0?7:"AUTH-UNAUTHORIZED"===t.t0?12:"SIGNATURE-INVALID"===t.t0||"TOTP-INVALID"===t.t0?16:19;break;case 7:return n="","undefined"!=typeof window&&(n=localStorage.getItem("grandeur-auth-".concat(this.config.apiKey))||""),o="".concat(this.config.node,"?apiKey=").concat(this.config.apiKey,"&token=").concat(n),this.ws=new WebSocket(o,"node"),t.abrupt("break",19);case 12:return this.reconnect(e),this.setStatus("AUTH-UNAUTHORIZED"),this.flush(),t.abrupt("return");case 16:return this.setStatus("SIGNATURE-INVALID"),this.flush(),t.abrupt("return");case 19:t.next=27;break;case 21:return t.prev=21,t.t1=t.catch(0),this.reconnect(e),this.setStatus("CONNECTION-REFUSED"),this.flush(),t.abrupt("return");case 27:this.ws.onopen=function(){i.setStatus("CONNECTED"),i.cConnection&&i.cConnection("CONNECTED"),i.ping=setInterval((function(){i.ws.send(JSON.stringify({header:{id:"ping",task:"ping"},payload:{}}))}),25e3),i.handle()},this.ws.onclose=function(){i.setStatus("CONNECTING"),i.cConnection&&i.cConnection("DISCONNECTED"),clearInterval(i.ping),i.reconnect(e)},this.ws.onmessage=function(t){var e=JSON.parse(t.data);if("update"===e.header.task)if("deviceParms"!==e.payload.event&&"deviceSummary"!==e.payload.event||(e.payload.event="data"),i.topics.device.includes(e.payload.event)){var r="".concat(e.payload.deviceID,"/").concat(e.payload.event).concat(e.payload.path?"/".concat(e.payload.path):"");"data"===e.payload.event?i.subscriptions.pEmit(r,e.payload.path,e.payload.update):i.subscriptions.emit(r,e.payload.update)}else i.subscriptions.emit(e.payload.event,e.payload.update);else e.payload&&delete e.payload.message,i.tasks.emit(e.header.id,e.payload),"/topic/subscribe"!==e.header.task&&i.buffer.remove(e.header.id)};case 30:case"end":return t.stop()}}),t,this,[[0,21]])})),r=function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(t){F(i,n,o,u,a,"next",t)}function a(t){F(i,n,o,u,a,"throw",t)}u(void 0)}))},function(t){return r.apply(this,arguments)})},{key:"reconnect",value:function(t){var e=this;"DISPOSED"!==this.status&&(this.recon=setTimeout((function(){e.setStatus("CONNECTING"),e.init(t)}),5e3))}},{key:"setStatus",value:function(t){"DISPOSED"!==this.status&&(this.status=t)}},{key:"dispose",value:function(){"CONNECTED"===this.status&&this.ws.close(),this.setStatus("DISPOSED"),clearTimeout(this.recon)}},{key:"disconnect",value:function(){"CONNECTED"===this.status&&this.ws.close(),this.setStatus("DISCONNECTED"),clearTimeout(this.recon)}},{key:"onConnection",value:function(t){var e=this;return this.cConnection=t,{clear:function(){e.cConnection=void 0}}}},{key:"handle",value:function(){var t=this;this.buffer.forEach((function(e){t.ws.send(JSON.stringify(e))}))}},{key:"flush",value:function(){var t=this;this.buffer.forEach((function(e){t.tasks.emit(e.header.id,void 0,{code:t.status}),t.buffer.remove(e.header.id)}))}},{key:"send",value:function(t,e){var r=this;return new Promise((function(n,o){if("SIGNATURE-INVALID"!==r.status&&"DISPOSED"!==r.status){var i=(0,P.cuid)(),u={header:{id:i,task:t},payload:e};r.tasks.once(i,(function(t,e){if(e)return o(e);n(t)})),"CONNECTED"===r.status?r.ws.send(JSON.stringify(u)):r.buffer.push(i,u)}else o({code:r.status})}))}},{key:"subscribe",value:function(t,e,r){var n=this;if(this.topics.device.includes(t)||this.topics.user.includes(t)){if(!this.topics.device.includes(t)||e.deviceID)return new Promise((function(o,i){if("SIGNATURE-INVALID"!==n.status&&"DISPOSED"!==n.status){var u=(0,P.cuid)(),a={header:{id:u,task:"/topic/subscribe"},payload:e},c=t;n.topics.device.includes(t)&&(c="".concat(e.deviceID,"/").concat(t).concat(e.path?"/".concat(e.path):""));var s=function(){return n.subscriptions.removeListener(c,r),n.subscriptions.listenerCount(c)>0?new Promise((function(t,e){return t({code:"TOPIC-UNSUBSCRIBED"})})):(n.buffer.remove(u),n.send("/topic/unsubscribe",e))};n.subscriptions.listenerCount(c)>0?(n.subscriptions.on(c,r),o({code:"TOPIC-SUBSCRIBED",clear:s})):(n.tasks.once(u,(function(t,e){if(e)return i(e);n.subscriptions.on(c,r),o(D(D({},t),{},{clear:s}))})),n.buffer.push(u,a),"CONNECTED"===n.status&&n.ws.send(JSON.stringify(a)))}else i({code:n.status})}));r({code:"DATA-INVALID"})}else r({code:"TOPIC-INVALID"})}}]),t}();const J=z;function Z(t){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z(t)}function W(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Q(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?W(Object(r),!0).forEach((function(e){tt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function tt(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==Z(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!==Z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"===Z(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var et={url:"https://api.grandeur.tech",node:"wss://api.grandeur.tech"},rt={};function nt(t,e){var r=Q(Q({},et),{},{apiKey:t,secretKey:e}),n=new j(r),o=new J(r),i={post:n,duplex:o};o.init(new c(i));var u={};return Object.keys(rt).map((function(t){return u[t]=function(){return new rt[t](i)}})),Q({isConnected:function(){return"CONNECTED"===i.duplex.status},onConnection:function(t){return i.duplex.onConnection(t)},on:function(t){return i.duplex.onConnection(t)},dispose:function(){i.duplex.dispose(),i.post.dispose()},auth:function(){return new c(i)},devices:function(){return new d(i)},datastore:function(){return new S(i)}},u)}function ot(t){rt=t}},560:function(){var t=t||this,e=e||void 0;!function(t){"use strict";var e="cuid",r=0,n=Math.pow(36,4),o=function(t,e){var r="000000000"+t;return r.substr(r.length-e)},i=function(){return o((Math.random()*n<<0).toString(36),4)},u=function(){var t,e=(new Date).getTime().toString(36),a=u.fingerprint(),c=i()+i();return t=o((r=r<n?r:0).toString(36),4),r++,"c"+e+t+a+c};u.globalCount=function(){var t=function(){var t,e=0;for(t in window)e++;return e}();return u.globalCount=function(){return t},t},u.fingerprint=function(){return o((navigator.mimeTypes.length+navigator.userAgent.length).toString(36)+u.globalCount().toString(36),4)},t.register?t.register(e,u):t[e=t.exports?"exports":e]=u}(t.applitude||e||this)},187:t=>{"use strict";var e,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};e=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var o=Number.isNaN||function(t){return t!=t};function i(){i.init.call(this)}t.exports=i,t.exports.once=function(t,e){return new Promise((function(r,n){function o(r){t.removeListener(e,i),n(r)}function i(){"function"==typeof t.removeListener&&t.removeListener("error",o),r([].slice.call(arguments))}d(t,e,i,{once:!0}),"error"!==e&&function(t,e,r){"function"==typeof t.on&&d(t,"error",e,{once:!0})}(t,o)}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var u=10;function a(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?i.defaultMaxListeners:t._maxListeners}function s(t,e,r,n){var o,i,u,s;if(a(r),void 0===(i=t._events)?(i=t._events=Object.create(null),t._eventsCount=0):(void 0!==i.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),i=t._events),u=i[e]),void 0===u)u=i[e]=r,++t._eventsCount;else if("function"==typeof u?u=i[e]=n?[r,u]:[u,r]:n?u.unshift(r):u.push(r),(o=c(t))>0&&u.length>o&&!u.warned){u.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=t,f.type=e,f.count=u.length,s=f,console&&console.warn&&console.warn(s)}return t}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},o=f.bind(n);return o.listener=r,n.wrapFn=o,o}function h(t,e,r){var n=t._events;if(void 0===n)return[];var o=n[e];return void 0===o?[]:"function"==typeof o?r?[o.listener||o]:[o]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(o):v(o,o.length)}function p(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function v(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function d(t,e,r,n){if("function"==typeof t.on)n.once?t.once(e,r):t.on(e,r);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function o(i){n.once&&t.removeEventListener(e,o),r(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var o="error"===t,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var u;if(e.length>0&&(u=e[0]),u instanceof Error)throw u;var a=new Error("Unhandled error."+(u?" ("+u.message+")":""));throw a.context=u,a}var c=i[t];if(void 0===c)return!1;if("function"==typeof c)n(c,this,e);else{var s=c.length,f=v(c,s);for(r=0;r<s;++r)n(f[r],this,e)}return!0},i.prototype.addListener=function(t,e){return s(this,t,e,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(t,e){return s(this,t,e,!0)},i.prototype.once=function(t,e){return a(e),this.on(t,l(this,t,e)),this},i.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,l(this,t,e)),this},i.prototype.removeListener=function(t,e){var r,n,o,i,u;if(a(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===e||r[i].listener===e){u=r[i].listener,o=i;break}if(o<0)return this;0===o?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,o),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,u||e)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var o,i=Object.keys(r);for(n=0;n<i.length;++n)"removeListener"!==(o=i[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},i.prototype.listeners=function(t){return h(this,t,!0)},i.prototype.rawListeners=function(t){return h(this,t,!1)},i.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):p.call(t,e)},i.prototype.listenerCount=p,i.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},90:(t,e,r)=>{var n;!function(){"use strict";var e="object"==typeof window?window:{};!e.HI_BASE32_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node&&(e=r.g);var o=!e.HI_BASE32_NO_COMMON_JS&&t.exports,i=r.amdO,u="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567".split(""),a={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,2:26,3:27,4:28,5:29,6:30,7:31},c=[0,0,0,0,0,0,0,0],s=function(t,e){e.length>10&&(e="..."+e.substr(-10));var r=new Error("Decoded data is not valid UTF-8. Maybe try base32.decode.asBytes()? Partial data after reading "+t+" bytes: "+e+" <-");throw r.position=t,r},f=function(t){if(""===t)return[];if(!/^[A-Z2-7=]+$/.test(t))throw new Error("Invalid base32 characters");for(var e,r,n,o,i,u,c,s,f=[],l=0,h=(t=t.replace(/=/g,"")).length,p=0,v=h>>3<<3;p<v;)e=a[t.charAt(p++)],r=a[t.charAt(p++)],n=a[t.charAt(p++)],o=a[t.charAt(p++)],i=a[t.charAt(p++)],u=a[t.charAt(p++)],c=a[t.charAt(p++)],s=a[t.charAt(p++)],f[l++]=255&(e<<3|r>>>2),f[l++]=255&(r<<6|n<<1|o>>>4),f[l++]=255&(o<<4|i>>>1),f[l++]=255&(i<<7|u<<2|c>>>3),f[l++]=255&(c<<5|s);var d=h-v;return 2===d?(e=a[t.charAt(p++)],r=a[t.charAt(p++)],f[l++]=255&(e<<3|r>>>2)):4===d?(e=a[t.charAt(p++)],r=a[t.charAt(p++)],n=a[t.charAt(p++)],o=a[t.charAt(p++)],f[l++]=255&(e<<3|r>>>2),f[l++]=255&(r<<6|n<<1|o>>>4)):5===d?(e=a[t.charAt(p++)],r=a[t.charAt(p++)],n=a[t.charAt(p++)],o=a[t.charAt(p++)],i=a[t.charAt(p++)],f[l++]=255&(e<<3|r>>>2),f[l++]=255&(r<<6|n<<1|o>>>4),f[l++]=255&(o<<4|i>>>1)):7===d&&(e=a[t.charAt(p++)],r=a[t.charAt(p++)],n=a[t.charAt(p++)],o=a[t.charAt(p++)],i=a[t.charAt(p++)],u=a[t.charAt(p++)],c=a[t.charAt(p++)],f[l++]=255&(e<<3|r>>>2),f[l++]=255&(r<<6|n<<1|o>>>4),f[l++]=255&(o<<4|i>>>1),f[l++]=255&(i<<7|u<<2|c>>>3)),f},l=function(t,e){if(!e)return function(t){for(var e,r,n="",o=t.length,i=0,u=0;i<o;)if((e=t[i++])<=127)n+=String.fromCharCode(e);else{e>191&&e<=223?(r=31&e,u=1):e<=239?(r=15&e,u=2):e<=247?(r=7&e,u=3):s(i,n);for(var a=0;a<u;++a)((e=t[i++])<128||e>191)&&s(i,n),r<<=6,r+=63&e;r>=55296&&r<=57343&&s(i,n),r>1114111&&s(i,n),r<=65535?n+=String.fromCharCode(r):(r-=65536,n+=String.fromCharCode(55296+(r>>10)),n+=String.fromCharCode(56320+(1023&r)))}return n}(f(t));if(""===t)return"";if(!/^[A-Z2-7=]+$/.test(t))throw new Error("Invalid base32 characters");var r,n,o,i,u,c,l,h,p="",v=t.indexOf("=");-1===v&&(v=t.length);for(var d=0,y=v>>3<<3;d<y;)r=a[t.charAt(d++)],n=a[t.charAt(d++)],o=a[t.charAt(d++)],i=a[t.charAt(d++)],u=a[t.charAt(d++)],c=a[t.charAt(d++)],l=a[t.charAt(d++)],h=a[t.charAt(d++)],p+=String.fromCharCode(255&(r<<3|n>>>2))+String.fromCharCode(255&(n<<6|o<<1|i>>>4))+String.fromCharCode(255&(i<<4|u>>>1))+String.fromCharCode(255&(u<<7|c<<2|l>>>3))+String.fromCharCode(255&(l<<5|h));var w=v-y;return 2===w?(r=a[t.charAt(d++)],n=a[t.charAt(d++)],p+=String.fromCharCode(255&(r<<3|n>>>2))):4===w?(r=a[t.charAt(d++)],n=a[t.charAt(d++)],o=a[t.charAt(d++)],i=a[t.charAt(d++)],p+=String.fromCharCode(255&(r<<3|n>>>2))+String.fromCharCode(255&(n<<6|o<<1|i>>>4))):5===w?(r=a[t.charAt(d++)],n=a[t.charAt(d++)],o=a[t.charAt(d++)],i=a[t.charAt(d++)],u=a[t.charAt(d++)],p+=String.fromCharCode(255&(r<<3|n>>>2))+String.fromCharCode(255&(n<<6|o<<1|i>>>4))+String.fromCharCode(255&(i<<4|u>>>1))):7===w&&(r=a[t.charAt(d++)],n=a[t.charAt(d++)],o=a[t.charAt(d++)],i=a[t.charAt(d++)],u=a[t.charAt(d++)],c=a[t.charAt(d++)],l=a[t.charAt(d++)],p+=String.fromCharCode(255&(r<<3|n>>>2))+String.fromCharCode(255&(n<<6|o<<1|i>>>4))+String.fromCharCode(255&(i<<4|u>>>1))+String.fromCharCode(255&(u<<7|c<<2|l>>>3))),p},h={encode:function(t,e){var r="string"!=typeof t;return r&&t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),r?function(t){for(var e,r,n,o,i,a="",c=t.length,s=0,f=5*parseInt(c/5);s<f;)e=t[s++],r=t[s++],n=t[s++],o=t[s++],i=t[s++],a+=u[e>>>3]+u[31&(e<<2|r>>>6)]+u[r>>>1&31]+u[31&(r<<4|n>>>4)]+u[31&(n<<1|o>>>7)]+u[o>>>2&31]+u[31&(o<<3|i>>>5)]+u[31&i];var l=c-f;return 1===l?(e=t[s],a+=u[e>>>3]+u[e<<2&31]+"======"):2===l?(e=t[s++],r=t[s],a+=u[e>>>3]+u[31&(e<<2|r>>>6)]+u[r>>>1&31]+u[r<<4&31]+"===="):3===l?(e=t[s++],r=t[s++],n=t[s],a+=u[e>>>3]+u[31&(e<<2|r>>>6)]+u[r>>>1&31]+u[31&(r<<4|n>>>4)]+u[n<<1&31]+"==="):4===l&&(e=t[s++],r=t[s++],n=t[s++],o=t[s],a+=u[e>>>3]+u[31&(e<<2|r>>>6)]+u[r>>>1&31]+u[31&(r<<4|n>>>4)]+u[31&(n<<1|o>>>7)]+u[o>>>2&31]+u[o<<3&31]+"="),a}(t):e?function(t){for(var e,r,n,o,i,a="",c=t.length,s=0,f=5*parseInt(c/5);s<f;)e=t.charCodeAt(s++),r=t.charCodeAt(s++),n=t.charCodeAt(s++),o=t.charCodeAt(s++),i=t.charCodeAt(s++),a+=u[e>>>3]+u[31&(e<<2|r>>>6)]+u[r>>>1&31]+u[31&(r<<4|n>>>4)]+u[31&(n<<1|o>>>7)]+u[o>>>2&31]+u[31&(o<<3|i>>>5)]+u[31&i];var l=c-f;return 1===l?(e=t.charCodeAt(s),a+=u[e>>>3]+u[e<<2&31]+"======"):2===l?(e=t.charCodeAt(s++),r=t.charCodeAt(s),a+=u[e>>>3]+u[31&(e<<2|r>>>6)]+u[r>>>1&31]+u[r<<4&31]+"===="):3===l?(e=t.charCodeAt(s++),r=t.charCodeAt(s++),n=t.charCodeAt(s),a+=u[e>>>3]+u[31&(e<<2|r>>>6)]+u[r>>>1&31]+u[31&(r<<4|n>>>4)]+u[n<<1&31]+"==="):4===l&&(e=t.charCodeAt(s++),r=t.charCodeAt(s++),n=t.charCodeAt(s++),o=t.charCodeAt(s),a+=u[e>>>3]+u[31&(e<<2|r>>>6)]+u[r>>>1&31]+u[31&(r<<4|n>>>4)]+u[31&(n<<1|o>>>7)]+u[o>>>2&31]+u[o<<3&31]+"="),a}(t):function(t){var e,r,n,o,i,a,s,f=!1,l="",h=0,p=0,v=t.length;if(""===t)return l;do{for(c[0]=c[5],c[1]=c[6],c[2]=c[7],s=p;h<v&&s<5;++h)(a=t.charCodeAt(h))<128?c[s++]=a:a<2048?(c[s++]=192|a>>6,c[s++]=128|63&a):a<55296||a>=57344?(c[s++]=224|a>>12,c[s++]=128|a>>6&63,c[s++]=128|63&a):(a=65536+((1023&a)<<10|1023&t.charCodeAt(++h)),c[s++]=240|a>>18,c[s++]=128|a>>12&63,c[s++]=128|a>>6&63,c[s++]=128|63&a);p=s-5,h===v&&++h,h>v&&s<6&&(f=!0),e=c[0],s>4?(r=c[1],n=c[2],o=c[3],i=c[4],l+=u[e>>>3]+u[31&(e<<2|r>>>6)]+u[r>>>1&31]+u[31&(r<<4|n>>>4)]+u[31&(n<<1|o>>>7)]+u[o>>>2&31]+u[31&(o<<3|i>>>5)]+u[31&i]):1===s?l+=u[e>>>3]+u[e<<2&31]+"======":2===s?(r=c[1],l+=u[e>>>3]+u[31&(e<<2|r>>>6)]+u[r>>>1&31]+u[r<<4&31]+"===="):3===s?(r=c[1],n=c[2],l+=u[e>>>3]+u[31&(e<<2|r>>>6)]+u[r>>>1&31]+u[31&(r<<4|n>>>4)]+u[n<<1&31]+"==="):(r=c[1],n=c[2],o=c[3],l+=u[e>>>3]+u[31&(e<<2|r>>>6)]+u[r>>>1&31]+u[31&(r<<4|n>>>4)]+u[31&(n<<1|o>>>7)]+u[o>>>2&31]+u[o<<3&31]+"=")}while(!f);return l}(t)},decode:l};l.asBytes=f,o?t.exports=h:(e.base32=h,i&&(void 0===(n=function(){return h}.call(h,r,h,t))||(t.exports=n)))}()},53:function(t){t.exports=function(){"use strict";var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function e(t,e,r,n){var o,i,u,a=e||[0],c=(r=r||0)>>>3,s=-1===n?3:0;for(o=0;o<t.length;o+=1)i=(u=o+c)>>>2,a.length<=i&&a.push(0),a[i]|=t[o]<<8*(s+n*(u%4));return{value:a,binLen:8*t.length+r}}function r(r,n,o){switch(n){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw new Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(r){case"HEX":return function(t,e,r){return function(t,e,r,n){var o,i,u,a;if(0!=t.length%2)throw new Error("String of HEX type must be in byte increments");var c=e||[0],s=(r=r||0)>>>3,f=-1===n?3:0;for(o=0;o<t.length;o+=2){if(i=parseInt(t.substr(o,2),16),isNaN(i))throw new Error("String of HEX type contains invalid characters");for(u=(a=(o>>>1)+s)>>>2;c.length<=u;)c.push(0);c[u]|=i<<8*(f+n*(a%4))}return{value:c,binLen:4*t.length+r}}(t,e,r,o)};case"TEXT":return function(t,e,r){return function(t,e,r,n,o){var i,u,a,c,s,f,l,h,p=0,v=r||[0],d=(n=n||0)>>>3;if("UTF8"===e)for(l=-1===o?3:0,a=0;a<t.length;a+=1)for(u=[],128>(i=t.charCodeAt(a))?u.push(i):2048>i?(u.push(192|i>>>6),u.push(128|63&i)):55296>i||57344<=i?u.push(224|i>>>12,128|i>>>6&63,128|63&i):(a+=1,i=65536+((1023&i)<<10|1023&t.charCodeAt(a)),u.push(240|i>>>18,128|i>>>12&63,128|i>>>6&63,128|63&i)),c=0;c<u.length;c+=1){for(s=(f=p+d)>>>2;v.length<=s;)v.push(0);v[s]|=u[c]<<8*(l+o*(f%4)),p+=1}else for(l=-1===o?2:0,h="UTF16LE"===e&&1!==o||"UTF16LE"!==e&&1===o,a=0;a<t.length;a+=1){for(i=t.charCodeAt(a),!0===h&&(i=(c=255&i)<<8|i>>>8),s=(f=p+d)>>>2;v.length<=s;)v.push(0);v[s]|=i<<8*(l+o*(f%4)),p+=2}return{value:v,binLen:8*p+n}}(t,n,e,r,o)};case"B64":return function(e,r,n){return function(e,r,n,o){var i,u,a,c,s,f,l=0,h=r||[0],p=(n=n||0)>>>3,v=-1===o?3:0,d=e.indexOf("=");if(-1===e.search(/^[a-zA-Z0-9=+/]+$/))throw new Error("Invalid character in base-64 string");if(e=e.replace(/=/g,""),-1!==d&&d<e.length)throw new Error("Invalid '=' found in base-64 string");for(i=0;i<e.length;i+=4){for(c=e.substr(i,4),a=0,u=0;u<c.length;u+=1)a|=t.indexOf(c.charAt(u))<<18-6*u;for(u=0;u<c.length-1;u+=1){for(s=(f=l+p)>>>2;h.length<=s;)h.push(0);h[s]|=(a>>>16-8*u&255)<<8*(v+o*(f%4)),l+=1}}return{value:h,binLen:8*l+n}}(e,r,n,o)};case"BYTES":return function(t,e,r){return function(t,e,r,n){var o,i,u,a,c=e||[0],s=(r=r||0)>>>3,f=-1===n?3:0;for(i=0;i<t.length;i+=1)o=t.charCodeAt(i),u=(a=i+s)>>>2,c.length<=u&&c.push(0),c[u]|=o<<8*(f+n*(a%4));return{value:c,binLen:8*t.length+r}}(t,e,r,o)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(t){throw new Error("ARRAYBUFFER not supported by this environment")}return function(t,r,n){return function(t,r,n,o){return e(new Uint8Array(t),r,n,o)}(t,r,n,o)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(t){throw new Error("UINT8ARRAY not supported by this environment")}return function(t,r,n){return e(t,r,n,o)};default:throw new Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}function n(e,r,n,o){switch(e){case"HEX":return function(t){return function(t,e,r,n){var o,i,u="",a=e/8,c=-1===r?3:0;for(o=0;o<a;o+=1)i=t[o>>>2]>>>8*(c+r*(o%4)),u+="0123456789abcdef".charAt(i>>>4&15)+"0123456789abcdef".charAt(15&i);return n.outputUpper?u.toUpperCase():u}(t,r,n,o)};case"B64":return function(e){return function(e,r,n,o){var i,u,a,c,s,f="",l=r/8,h=-1===n?3:0;for(i=0;i<l;i+=3)for(c=i+1<l?e[i+1>>>2]:0,s=i+2<l?e[i+2>>>2]:0,a=(e[i>>>2]>>>8*(h+n*(i%4))&255)<<16|(c>>>8*(h+n*((i+1)%4))&255)<<8|s>>>8*(h+n*((i+2)%4))&255,u=0;u<4;u+=1)f+=8*i+6*u<=r?t.charAt(a>>>6*(3-u)&63):o.b64Pad;return f}(e,r,n,o)};case"BYTES":return function(t){return function(t,e,r){var n,o,i="",u=e/8,a=-1===r?3:0;for(n=0;n<u;n+=1)o=t[n>>>2]>>>8*(a+r*(n%4))&255,i+=String.fromCharCode(o);return i}(t,r,n)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(t){throw new Error("ARRAYBUFFER not supported by this environment")}return function(t){return function(t,e,r){var n,o=e/8,i=new ArrayBuffer(o),u=new Uint8Array(i),a=-1===r?3:0;for(n=0;n<o;n+=1)u[n]=t[n>>>2]>>>8*(a+r*(n%4))&255;return i}(t,r,n)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(t){throw new Error("UINT8ARRAY not supported by this environment")}return function(t){return function(t,e,r){var n,o=e/8,i=-1===r?3:0,u=new Uint8Array(o);for(n=0;n<o;n+=1)u[n]=t[n>>>2]>>>8*(i+r*(n%4))&255;return u}(t,r,n)};default:throw new Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}var o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],i=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],u=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],a="Chosen SHA variant is not supported";function c(t,e){var r,n,o=t.binLen>>>3,i=e.binLen>>>3,u=o<<3,a=4-o<<3;if(o%4!=0){for(r=0;r<i;r+=4)n=o+r>>>2,t.value[n]|=e.value[r>>>2]<<u,t.value.push(0),t.value[n+1]|=e.value[r>>>2]>>>a;return(t.value.length<<2)-4>=i+o&&t.value.pop(),{value:t.value,binLen:t.binLen+e.binLen}}return{value:t.value.concat(e.value),binLen:t.binLen+e.binLen}}function s(t){var e={outputUpper:!1,b64Pad:"=",outputLen:-1},r=t||{},n="Output length must be a multiple of 8";if(e.outputUpper=r.outputUpper||!1,r.b64Pad&&(e.b64Pad=r.b64Pad),r.outputLen){if(r.outputLen%8!=0)throw new Error(n);e.outputLen=r.outputLen}else if(r.shakeLen){if(r.shakeLen%8!=0)throw new Error(n);e.outputLen=r.shakeLen}if("boolean"!=typeof e.outputUpper)throw new Error("Invalid outputUpper formatting option");if("string"!=typeof e.b64Pad)throw new Error("Invalid b64Pad formatting option");return e}function f(t,e,n,o){var i=t+" must include a value and format";if(!e){if(!o)throw new Error(i);return o}if(void 0===e.value||!e.format)throw new Error(i);return r(e.format,e.encoding||"UTF8",n)(e.value)}var l=function(){function t(t,e,r){var n=r||{};if(this.t=e,this.i=n.encoding||"UTF8",this.numRounds=n.numRounds||1,isNaN(this.numRounds)||this.numRounds!==parseInt(this.numRounds,10)||1>this.numRounds)throw new Error("numRounds must a integer >= 1");this.o=t,this.u=[],this.s=0,this.h=!1,this.v=0,this.A=!1,this.l=[],this.H=[]}return t.prototype.update=function(t){var e,r=0,n=this.S>>>5,o=this.p(t,this.u,this.s),i=o.binLen,u=o.value,a=i>>>5;for(e=0;e<a;e+=n)r+this.S<=i&&(this.m=this.R(u.slice(e,e+n),this.m),r+=this.S);this.v+=r,this.u=u.slice(r>>>5),this.s=i%this.S,this.h=!0},t.prototype.getHash=function(t,e){var r,o,i=this.U,u=s(e);if(this.T){if(-1===u.outputLen)throw new Error("Output length must be specified in options");i=u.outputLen}var a=n(t,i,this.C,u);if(this.A&&this.F)return a(this.F(u));for(o=this.K(this.u.slice(),this.s,this.v,this.B(this.m),i),r=1;r<this.numRounds;r+=1)this.T&&i%32!=0&&(o[o.length-1]&=16777215>>>24-i%32),o=this.K(o,i,0,this.L(this.o),i);return a(o)},t.prototype.setHMACKey=function(t,e,n){if(!this.g)throw new Error("Variant does not support HMAC");if(this.h)throw new Error("Cannot set MAC key after calling update");var o=r(e,(n||{}).encoding||"UTF8",this.C);this.k(o(t))},t.prototype.k=function(t){var e,r=this.S>>>3,n=r/4-1;if(1!==this.numRounds)throw new Error("Cannot set numRounds with MAC");if(this.A)throw new Error("MAC key already set");for(r<t.binLen/8&&(t.value=this.K(t.value,t.binLen,0,this.L(this.o),this.U));t.value.length<=n;)t.value.push(0);for(e=0;e<=n;e+=1)this.l[e]=909522486^t.value[e],this.H[e]=1549556828^t.value[e];this.m=this.R(this.l,this.m),this.v=this.S,this.A=!0},t.prototype.getHMAC=function(t,e){var r=s(e);return n(t,this.U,this.C,r)(this.Y())},t.prototype.Y=function(){var t;if(!this.A)throw new Error("Cannot call getHMAC without first setting MAC key");var e=this.K(this.u.slice(),this.s,this.v,this.B(this.m),this.U);return t=this.R(this.H,this.L(this.o)),this.K(e,this.U,this.S,t,this.U)},t}(),h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function p(t,e){function r(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function v(t,e){return t<<e|t>>>32-e}function d(t,e){return t>>>e|t<<32-e}function y(t,e){return t>>>e}function w(t,e,r){return t^e^r}function m(t,e,r){return t&e^~t&r}function g(t,e,r){return t&e^t&r^e&r}function b(t){return d(t,2)^d(t,13)^d(t,22)}function E(t,e){var r=(65535&t)+(65535&e);return(65535&(t>>>16)+(e>>>16)+(r>>>16))<<16|65535&r}function S(t,e,r,n){var o=(65535&t)+(65535&e)+(65535&r)+(65535&n);return(65535&(t>>>16)+(e>>>16)+(r>>>16)+(n>>>16)+(o>>>16))<<16|65535&o}function x(t,e,r,n,o){var i=(65535&t)+(65535&e)+(65535&r)+(65535&n)+(65535&o);return(65535&(t>>>16)+(e>>>16)+(r>>>16)+(n>>>16)+(o>>>16)+(i>>>16))<<16|65535&i}function A(t){return d(t,7)^d(t,18)^y(t,3)}function O(t){return d(t,6)^d(t,11)^d(t,25)}function C(t){return[1732584193,4023233417,2562383102,271733878,3285377520]}function N(t,e){var r,n,o,i,u,a,c,s=[];for(r=e[0],n=e[1],o=e[2],i=e[3],u=e[4],c=0;c<80;c+=1)s[c]=c<16?t[c]:v(s[c-3]^s[c-8]^s[c-14]^s[c-16],1),a=c<20?x(v(r,5),m(n,o,i),u,1518500249,s[c]):c<40?x(v(r,5),w(n,o,i),u,1859775393,s[c]):c<60?x(v(r,5),g(n,o,i),u,2400959708,s[c]):x(v(r,5),w(n,o,i),u,3395469782,s[c]),u=i,i=o,o=v(n,30),n=r,r=a;return e[0]=E(r,e[0]),e[1]=E(n,e[1]),e[2]=E(o,e[2]),e[3]=E(i,e[3]),e[4]=E(u,e[4]),e}function I(t,e,r,n){for(var o,i=15+(e+65>>>9<<4),u=e+r;t.length<=i;)t.push(0);for(t[e>>>5]|=128<<24-e%32,t[i]=4294967295&u,t[i-1]=u/4294967296|0,o=0;o<t.length;o+=16)n=N(t.slice(o,o+16),n);return n}var L=function(t){function e(e,n,o){var i=this;if("SHA-1"!==e)throw new Error(a);var u=o||{};return(i=t.call(this,e,n,o)||this).g=!0,i.F=i.Y,i.C=-1,i.p=r(i.t,i.i,i.C),i.R=N,i.B=function(t){return t.slice()},i.L=C,i.K=I,i.m=[1732584193,4023233417,2562383102,271733878,3285377520],i.S=512,i.U=160,i.T=!1,u.hmacKey&&i.k(f("hmacKey",u.hmacKey,i.C)),i}return p(e,t),e}(l);function k(t){return"SHA-224"==t?i.slice():u.slice()}function j(t,e){var r,n,i,u,a,c,s,f,l,h,p,v,w=[];for(r=e[0],n=e[1],i=e[2],u=e[3],a=e[4],c=e[5],s=e[6],f=e[7],p=0;p<64;p+=1)w[p]=p<16?t[p]:S(d(v=w[p-2],17)^d(v,19)^y(v,10),w[p-7],A(w[p-15]),w[p-16]),l=x(f,O(a),m(a,c,s),o[p],w[p]),h=E(b(r),g(r,n,i)),f=s,s=c,c=a,a=E(u,l),u=i,i=n,n=r,r=E(l,h);return e[0]=E(r,e[0]),e[1]=E(n,e[1]),e[2]=E(i,e[2]),e[3]=E(u,e[3]),e[4]=E(a,e[4]),e[5]=E(c,e[5]),e[6]=E(s,e[6]),e[7]=E(f,e[7]),e}var _=function(t){function e(e,n,o){var i=this;if("SHA-224"!==e&&"SHA-256"!==e)throw new Error(a);var u=o||{};return(i=t.call(this,e,n,o)||this).F=i.Y,i.g=!0,i.C=-1,i.p=r(i.t,i.i,i.C),i.R=j,i.B=function(t){return t.slice()},i.L=k,i.K=function(t,r,n,o){return function(t,e,r,n,o){for(var i,u=15+(e+65>>>9<<4),a=e+r;t.length<=u;)t.push(0);for(t[e>>>5]|=128<<24-e%32,t[u]=4294967295&a,t[u-1]=a/4294967296|0,i=0;i<t.length;i+=16)n=j(t.slice(i,i+16),n);return"SHA-224"===o?[n[0],n[1],n[2],n[3],n[4],n[5],n[6]]:n}(t,r,n,o,e)},i.m=k(e),i.S=512,i.U="SHA-224"===e?224:256,i.T=!1,u.hmacKey&&i.k(f("hmacKey",u.hmacKey,i.C)),i}return p(e,t),e}(l),P=function(t,e){this.N=t,this.I=e};function T(t,e){var r;return e>32?(r=64-e,new P(t.I<<e|t.N>>>r,t.N<<e|t.I>>>r)):0!==e?(r=32-e,new P(t.N<<e|t.I>>>r,t.I<<e|t.N>>>r)):t}function R(t,e){var r;return e<32?(r=32-e,new P(t.N>>>e|t.I<<r,t.I>>>e|t.N<<r)):(r=64-e,new P(t.I>>>e|t.N<<r,t.N>>>e|t.I<<r))}function D(t,e){return new P(t.N>>>e,t.I>>>e|t.N<<32-e)}function U(t,e,r){return new P(t.N&e.N^~t.N&r.N,t.I&e.I^~t.I&r.I)}function H(t,e,r){return new P(t.N&e.N^t.N&r.N^e.N&r.N,t.I&e.I^t.I&r.I^e.I&r.I)}function F(t){var e=R(t,28),r=R(t,34),n=R(t,39);return new P(e.N^r.N^n.N,e.I^r.I^n.I)}function K(t,e){var r,n;r=(65535&t.I)+(65535&e.I);var o=(65535&(n=(t.I>>>16)+(e.I>>>16)+(r>>>16)))<<16|65535&r;return r=(65535&t.N)+(65535&e.N)+(n>>>16),n=(t.N>>>16)+(e.N>>>16)+(r>>>16),new P((65535&n)<<16|65535&r,o)}function M(t,e,r,n){var o,i;o=(65535&t.I)+(65535&e.I)+(65535&r.I)+(65535&n.I);var u=(65535&(i=(t.I>>>16)+(e.I>>>16)+(r.I>>>16)+(n.I>>>16)+(o>>>16)))<<16|65535&o;return o=(65535&t.N)+(65535&e.N)+(65535&r.N)+(65535&n.N)+(i>>>16),i=(t.N>>>16)+(e.N>>>16)+(r.N>>>16)+(n.N>>>16)+(o>>>16),new P((65535&i)<<16|65535&o,u)}function B(t,e,r,n,o){var i,u;i=(65535&t.I)+(65535&e.I)+(65535&r.I)+(65535&n.I)+(65535&o.I);var a=(65535&(u=(t.I>>>16)+(e.I>>>16)+(r.I>>>16)+(n.I>>>16)+(o.I>>>16)+(i>>>16)))<<16|65535&i;return i=(65535&t.N)+(65535&e.N)+(65535&r.N)+(65535&n.N)+(65535&o.N)+(u>>>16),u=(t.N>>>16)+(e.N>>>16)+(r.N>>>16)+(n.N>>>16)+(o.N>>>16)+(i>>>16),new P((65535&u)<<16|65535&i,a)}function G(t,e){return new P(t.N^e.N,t.I^e.I)}function Y(t){var e=R(t,1),r=R(t,8),n=D(t,7);return new P(e.N^r.N^n.N,e.I^r.I^n.I)}function $(t){var e=R(t,14),r=R(t,18),n=R(t,41);return new P(e.N^r.N^n.N,e.I^r.I^n.I)}var V=[new P(o[0],3609767458),new P(o[1],602891725),new P(o[2],3964484399),new P(o[3],2173295548),new P(o[4],4081628472),new P(o[5],3053834265),new P(o[6],2937671579),new P(o[7],3664609560),new P(o[8],2734883394),new P(o[9],1164996542),new P(o[10],1323610764),new P(o[11],3590304994),new P(o[12],4068182383),new P(o[13],991336113),new P(o[14],633803317),new P(o[15],3479774868),new P(o[16],2666613458),new P(o[17],944711139),new P(o[18],2341262773),new P(o[19],2007800933),new P(o[20],1495990901),new P(o[21],1856431235),new P(o[22],3175218132),new P(o[23],2198950837),new P(o[24],3999719339),new P(o[25],766784016),new P(o[26],2566594879),new P(o[27],3203337956),new P(o[28],1034457026),new P(o[29],2466948901),new P(o[30],3758326383),new P(o[31],168717936),new P(o[32],1188179964),new P(o[33],1546045734),new P(o[34],1522805485),new P(o[35],2643833823),new P(o[36],2343527390),new P(o[37],1014477480),new P(o[38],1206759142),new P(o[39],344077627),new P(o[40],1290863460),new P(o[41],3158454273),new P(o[42],3505952657),new P(o[43],106217008),new P(o[44],3606008344),new P(o[45],1432725776),new P(o[46],1467031594),new P(o[47],851169720),new P(o[48],3100823752),new P(o[49],1363258195),new P(o[50],3750685593),new P(o[51],3785050280),new P(o[52],3318307427),new P(o[53],3812723403),new P(o[54],2003034995),new P(o[55],3602036899),new P(o[56],1575990012),new P(o[57],1125592928),new P(o[58],2716904306),new P(o[59],442776044),new P(o[60],593698344),new P(o[61],3733110249),new P(o[62],2999351573),new P(o[63],3815920427),new P(3391569614,3928383900),new P(3515267271,566280711),new P(3940187606,3454069534),new P(4118630271,4000239992),new P(116418474,1914138554),new P(174292421,2731055270),new P(289380356,3203993006),new P(460393269,320620315),new P(685471733,587496836),new P(852142971,1086792851),new P(1017036298,365543100),new P(1126000580,2618297676),new P(1288033470,3409855158),new P(1501505948,4234509866),new P(1607167915,987167468),new P(1816402316,1246189591)];function X(t){return"SHA-384"===t?[new P(3418070365,i[0]),new P(1654270250,i[1]),new P(2438529370,i[2]),new P(355462360,i[3]),new P(1731405415,i[4]),new P(41048885895,i[5]),new P(3675008525,i[6]),new P(1203062813,i[7])]:[new P(u[0],4089235720),new P(u[1],2227873595),new P(u[2],4271175723),new P(u[3],1595750129),new P(u[4],2917565137),new P(u[5],725511199),new P(u[6],4215389547),new P(u[7],327033209)]}function q(t,e){var r,n,o,i,u,a,c,s,f,l,h,p,v,d,y,w,m=[];for(r=e[0],n=e[1],o=e[2],i=e[3],u=e[4],a=e[5],c=e[6],s=e[7],h=0;h<80;h+=1)h<16?(p=2*h,m[h]=new P(t[p],t[p+1])):m[h]=M((void 0,void 0,void 0,d=R(v=m[h-2],19),y=R(v,61),w=D(v,6),new P(d.N^y.N^w.N,d.I^y.I^w.I)),m[h-7],Y(m[h-15]),m[h-16]),f=B(s,$(u),U(u,a,c),V[h],m[h]),l=K(F(r),H(r,n,o)),s=c,c=a,a=u,u=K(i,f),i=o,o=n,n=r,r=K(f,l);return e[0]=K(r,e[0]),e[1]=K(n,e[1]),e[2]=K(o,e[2]),e[3]=K(i,e[3]),e[4]=K(u,e[4]),e[5]=K(a,e[5]),e[6]=K(c,e[6]),e[7]=K(s,e[7]),e}var z=function(t){function e(e,n,o){var i=this;if("SHA-384"!==e&&"SHA-512"!==e)throw new Error(a);var u=o||{};return(i=t.call(this,e,n,o)||this).F=i.Y,i.g=!0,i.C=-1,i.p=r(i.t,i.i,i.C),i.R=q,i.B=function(t){return t.slice()},i.L=X,i.K=function(t,r,n,o){return function(t,e,r,n,o){for(var i,u=31+(e+129>>>10<<5),a=e+r;t.length<=u;)t.push(0);for(t[e>>>5]|=128<<24-e%32,t[u]=4294967295&a,t[u-1]=a/4294967296|0,i=0;i<t.length;i+=32)n=q(t.slice(i,i+32),n);return"SHA-384"===o?[n[0].N,n[0].I,n[1].N,n[1].I,n[2].N,n[2].I,n[3].N,n[3].I,n[4].N,n[4].I,n[5].N,n[5].I]:[n[0].N,n[0].I,n[1].N,n[1].I,n[2].N,n[2].I,n[3].N,n[3].I,n[4].N,n[4].I,n[5].N,n[5].I,n[6].N,n[6].I,n[7].N,n[7].I]}(t,r,n,o,e)},i.m=X(e),i.S=1024,i.U="SHA-384"===e?384:512,i.T=!1,u.hmacKey&&i.k(f("hmacKey",u.hmacKey,i.C)),i}return p(e,t),e}(l),J=[new P(0,1),new P(0,32898),new P(2147483648,32906),new P(2147483648,2147516416),new P(0,32907),new P(0,2147483649),new P(2147483648,2147516545),new P(2147483648,32777),new P(0,138),new P(0,136),new P(0,2147516425),new P(0,2147483658),new P(0,2147516555),new P(2147483648,139),new P(2147483648,32905),new P(2147483648,32771),new P(2147483648,32770),new P(2147483648,128),new P(0,32778),new P(2147483648,2147483658),new P(2147483648,2147516545),new P(2147483648,32896),new P(0,2147483649),new P(2147483648,2147516424)],Z=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]];function W(t){var e,r=[];for(e=0;e<5;e+=1)r[e]=[new P(0,0),new P(0,0),new P(0,0),new P(0,0),new P(0,0)];return r}function Q(t){var e,r=[];for(e=0;e<5;e+=1)r[e]=t[e].slice();return r}function tt(t,e){var r,n,o,i,u,a,c,s,f,l=[],h=[];if(null!==t)for(n=0;n<t.length;n+=2)e[(n>>>1)%5][(n>>>1)/5|0]=G(e[(n>>>1)%5][(n>>>1)/5|0],new P(t[n+1],t[n]));for(r=0;r<24;r+=1){for(i=W(),n=0;n<5;n+=1)l[n]=(u=e[n][0],a=e[n][1],c=e[n][2],s=e[n][3],f=e[n][4],new P(u.N^a.N^c.N^s.N^f.N,u.I^a.I^c.I^s.I^f.I));for(n=0;n<5;n+=1)h[n]=G(l[(n+4)%5],T(l[(n+1)%5],1));for(n=0;n<5;n+=1)for(o=0;o<5;o+=1)e[n][o]=G(e[n][o],h[n]);for(n=0;n<5;n+=1)for(o=0;o<5;o+=1)i[o][(2*n+3*o)%5]=T(e[n][o],Z[n][o]);for(n=0;n<5;n+=1)for(o=0;o<5;o+=1)e[n][o]=G(i[n][o],new P(~i[(n+1)%5][o].N&i[(n+2)%5][o].N,~i[(n+1)%5][o].I&i[(n+2)%5][o].I));e[0][0]=G(e[0][0],J[r])}return e}function et(t){var e,r,n=0,o=[0,0],i=[4294967295&t,t/4294967296&2097151];for(e=6;e>=0;e--)0==(r=i[e>>2]>>>8*e&255)&&0===n||(o[n+1>>2]|=r<<8*(n+1),n+=1);return n=0!==n?n:1,o[0]|=n,{value:n+1>4?o:[o[0]],binLen:8+8*n}}function rt(t){return c(et(t.binLen),t)}function nt(t,e){var r,n=et(e),o=e>>>2,i=(o-(n=c(n,t)).value.length%o)%o;for(r=0;r<i;r++)n.value.push(0);return n.value}var ot=function(t){function e(e,n,o){var i=this,u=6,c=0,s=o||{};if(1!==(i=t.call(this,e,n,o)||this).numRounds){if(s.kmacKey||s.hmacKey)throw new Error("Cannot set numRounds with MAC");if("CSHAKE128"===i.o||"CSHAKE256"===i.o)throw new Error("Cannot set numRounds for CSHAKE variants")}switch(i.C=1,i.p=r(i.t,i.i,i.C),i.R=tt,i.B=Q,i.L=W,i.m=W(),i.T=!1,e){case"SHA3-224":i.S=c=1152,i.U=224,i.g=!0,i.F=i.Y;break;case"SHA3-256":i.S=c=1088,i.U=256,i.g=!0,i.F=i.Y;break;case"SHA3-384":i.S=c=832,i.U=384,i.g=!0,i.F=i.Y;break;case"SHA3-512":i.S=c=576,i.U=512,i.g=!0,i.F=i.Y;break;case"SHAKE128":u=31,i.S=c=1344,i.U=-1,i.T=!0,i.g=!1,i.F=null;break;case"SHAKE256":u=31,i.S=c=1088,i.U=-1,i.T=!0,i.g=!1,i.F=null;break;case"KMAC128":u=4,i.S=c=1344,i.M(o),i.U=-1,i.T=!0,i.g=!1,i.F=i.X;break;case"KMAC256":u=4,i.S=c=1088,i.M(o),i.U=-1,i.T=!0,i.g=!1,i.F=i.X;break;case"CSHAKE128":i.S=c=1344,u=i.O(o),i.U=-1,i.T=!0,i.g=!1,i.F=null;break;case"CSHAKE256":i.S=c=1088,u=i.O(o),i.U=-1,i.T=!0,i.g=!1,i.F=null;break;default:throw new Error(a)}return i.K=function(t,e,r,n,o){return function(t,e,r,n,o,i,u){var a,c,s=0,f=[],l=o>>>5,h=e>>>5;for(a=0;a<h&&e>=o;a+=l)n=tt(t.slice(a,a+l),n),e-=o;for(t=t.slice(a),e%=o;t.length<l;)t.push(0);for(t[(a=e>>>3)>>2]^=i<<a%4*8,t[l-1]^=2147483648,n=tt(t,n);32*f.length<u&&(c=n[s%5][s/5|0],f.push(c.I),!(32*f.length>=u));)f.push(c.N),0==64*(s+=1)%o&&(tt(null,n),s=0);return f}(t,e,0,n,c,u,o)},s.hmacKey&&i.k(f("hmacKey",s.hmacKey,i.C)),i}return p(e,t),e.prototype.O=function(t,e){var r=function(t){var e=t||{};return{funcName:f("funcName",e.funcName,1,{value:[],binLen:0}),customization:f("Customization",e.customization,1,{value:[],binLen:0})}}(t||{});e&&(r.funcName=e);var n=c(rt(r.funcName),rt(r.customization));if(0!==r.customization.binLen||0!==r.funcName.binLen){for(var o=nt(n,this.S>>>3),i=0;i<o.length;i+=this.S>>>5)this.m=this.R(o.slice(i,i+(this.S>>>5)),this.m),this.v+=this.S;return 4}return 31},e.prototype.M=function(t){var e=function(t){var e=t||{};return{kmacKey:f("kmacKey",e.kmacKey,1),funcName:{value:[1128353099],binLen:32},customization:f("Customization",e.customization,1,{value:[],binLen:0})}}(t||{});this.O(t,e.funcName);for(var r=nt(rt(e.kmacKey),this.S>>>3),n=0;n<r.length;n+=this.S>>>5)this.m=this.R(r.slice(n,n+(this.S>>>5)),this.m),this.v+=this.S;this.A=!0},e.prototype.X=function(t){var e=c({value:this.u.slice(),binLen:this.s},function(t){var e,r,n=0,o=[0,0],i=[4294967295&t,t/4294967296&2097151];for(e=6;e>=0;e--)0==(r=i[e>>2]>>>8*e&255)&&0===n||(o[n>>2]|=r<<8*n,n+=1);return o[(n=0!==n?n:1)>>2]|=n<<8*n,{value:n+1>4?o:[o[0]],binLen:8+8*n}}(t.outputLen));return this.K(e.value,e.binLen,this.v,this.B(this.m),t.outputLen)},e}(l);return function(){function t(t,e,r){if("SHA-1"==t)this.j=new L(t,e,r);else if("SHA-224"==t||"SHA-256"==t)this.j=new _(t,e,r);else if("SHA-384"==t||"SHA-512"==t)this.j=new z(t,e,r);else{if("SHA3-224"!=t&&"SHA3-256"!=t&&"SHA3-384"!=t&&"SHA3-512"!=t&&"SHAKE128"!=t&&"SHAKE256"!=t&&"CSHAKE128"!=t&&"CSHAKE256"!=t&&"KMAC128"!=t&&"KMAC256"!=t)throw new Error(a);this.j=new ot(t,e,r)}}return t.prototype.update=function(t){this.j.update(t)},t.prototype.getHash=function(t,e){return this.j.getHash(t,e)},t.prototype.setHMACKey=function(t,e,r){this.j.setHMACKey(t,e,r)},t.prototype.getHMAC=function(t,e){return this.j.getHMAC(t,e)},t}()}()},408:(t,e)=>{"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator,v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},d=Object.assign,y={};function w(t,e,r){this.props=t,this.context=e,this.refs=y,this.updater=r||v}function m(){}function g(t,e,r){this.props=t,this.context=e,this.refs=y,this.updater=r||v}w.prototype.isReactComponent={},w.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},w.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},m.prototype=w.prototype;var b=g.prototype=new m;b.constructor=g,d(b,w.prototype),b.isPureReactComponent=!0;var E=Array.isArray,S=Object.prototype.hasOwnProperty,x={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function O(t,e,n){var o,i={},u=null,a=null;if(null!=e)for(o in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(u=""+e.key),e)S.call(e,o)&&!A.hasOwnProperty(o)&&(i[o]=e[o]);var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){for(var s=Array(c),f=0;f<c;f++)s[f]=arguments[f+2];i.children=s}if(t&&t.defaultProps)for(o in c=t.defaultProps)void 0===i[o]&&(i[o]=c[o]);return{$$typeof:r,type:t,key:u,ref:a,props:i,_owner:x.current}}function C(t){return"object"==typeof t&&null!==t&&t.$$typeof===r}var N=/\/+/g;function I(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function L(t,e,o,i,u){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var c=!1;if(null===t)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case r:case n:c=!0}}if(c)return u=u(c=t),t=""===i?"."+I(c,0):i,E(u)?(o="",null!=t&&(o=t.replace(N,"$&/")+"/"),L(u,e,o,"",(function(t){return t}))):null!=u&&(C(u)&&(u=function(t,e){return{$$typeof:r,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(u,o+(!u.key||c&&c.key===u.key?"":(""+u.key).replace(N,"$&/")+"/")+t)),e.push(u)),1;if(c=0,i=""===i?".":i+":",E(t))for(var s=0;s<t.length;s++){var f=i+I(a=t[s],s);c+=L(a,e,o,f,u)}else if(f=function(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=p&&t[p]||t["@@iterator"])?t:null}(t),"function"==typeof f)for(t=f.call(t),s=0;!(a=t.next()).done;)c+=L(a=a.value,e,o,f=i+I(a,s++),u);else if("object"===a)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return c}function k(t,e,r){if(null==t)return t;var n=[],o=0;return L(t,n,"","",(function(t){return e.call(r,t,o++)})),n}function j(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var _={current:null},P={transition:null},T={ReactCurrentDispatcher:_,ReactCurrentBatchConfig:P,ReactCurrentOwner:x};e.Children={map:k,forEach:function(t,e,r){k(t,(function(){e.apply(this,arguments)}),r)},count:function(t){var e=0;return k(t,(function(){e++})),e},toArray:function(t){return k(t,(function(t){return t}))||[]},only:function(t){if(!C(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=w,e.Fragment=o,e.Profiler=u,e.PureComponent=g,e.StrictMode=i,e.Suspense=f,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T,e.cloneElement=function(t,e,n){if(null==t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var o=d({},t.props),i=t.key,u=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(u=e.ref,a=x.current),void 0!==e.key&&(i=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(s in e)S.call(e,s)&&!A.hasOwnProperty(s)&&(o[s]=void 0===e[s]&&void 0!==c?c[s]:e[s])}var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){c=Array(s);for(var f=0;f<s;f++)c[f]=arguments[f+2];o.children=c}return{$$typeof:r,type:t.type,key:i,ref:u,props:o,_owner:a}},e.createContext=function(t){return(t={$$typeof:c,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=O,e.createFactory=function(t){var e=O.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:s,render:t}},e.isValidElement=C,e.lazy=function(t){return{$$typeof:h,_payload:{_status:-1,_result:t},_init:j}},e.memo=function(t,e){return{$$typeof:l,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=P.transition;P.transition={};try{t()}finally{P.transition=e}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(t,e){return _.current.useCallback(t,e)},e.useContext=function(t){return _.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return _.current.useDeferredValue(t)},e.useEffect=function(t,e){return _.current.useEffect(t,e)},e.useId=function(){return _.current.useId()},e.useImperativeHandle=function(t,e,r){return _.current.useImperativeHandle(t,e,r)},e.useInsertionEffect=function(t,e){return _.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return _.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return _.current.useMemo(t,e)},e.useReducer=function(t,e,r){return _.current.useReducer(t,e,r)},e.useRef=function(t){return _.current.useRef(t)},e.useState=function(t){return _.current.useState(t)},e.useSyncExternalStore=function(t,e,r){return _.current.useSyncExternalStore(t,e,r)},e.useTransition=function(){return _.current.useTransition()},e.version="18.2.0"},294:(t,e,r)=>{"use strict";t.exports=r(408)},833:(t,e,r)=>{"use strict";let n=r(53);function o(t){return parseInt(t,16)}function i(t,e,r){return e+1>=t.length&&(t=Array(e+1-t.length).join(r)+t),t}n.default&&(n=n.default),t.exports=function(t,e){let r,u,a,c,s,f;var l;return(e=e||{}).period=e.period||30,e.algorithm=e.algorithm||"SHA-1",e.digits=e.digits||6,e.timestamp=e.timestamp||Date.now(),t=function(t){let e="",r="";t=t.replace(/=+$/,"");for(let r=0;r<t.length;r++){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567".indexOf(t.charAt(r).toUpperCase());if(-1===n)throw new Error("Invalid base32 character in key");e+=i(n.toString(2),5,"0")}for(let t=0;t+8<=e.length;t+=8){let n=e.substr(t,8);r+=i(parseInt(n,2).toString(16),2,"0")}return r}(t),r=Math.round(e.timestamp/1e3),u=i(((l=Math.floor(r/e.period))<15.5?"0":"")+Math.round(l).toString(16),16,"0"),a=new n(e.algorithm,"HEX"),a.setHMACKey(t,"HEX"),a.update(u),c=a.getHMAC("HEX"),s=o(c.substring(c.length-1)),f=(o(c.substr(2*s,8))&o("7fffffff"))+"",f=f.substr(Math.max(f.length-e.digits,0),e.digits),f}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,r),i.exports}r.amdO={},r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};return(()=>{"use strict";r.r(n),r.d(n,{Grandeur:()=>u,withGrandeur:()=>a});var t=r(294),e=r(223);function o(){return o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o.apply(this,arguments)}var i=t.createContext(null);function u(r){e.extend&&e.extend(r.extensions?r.extensions:{});var n={grandeur:e.init(r.apiKey,r.secretKey)};return t.createElement(i.Provider,{value:n.grandeur},r.children)}var a=function(e){return function(r){return t.createElement(i.Consumer,null,(function(n){return t.createElement(e,o({},r,{grandeur:n}))}))}}})(),n})()));